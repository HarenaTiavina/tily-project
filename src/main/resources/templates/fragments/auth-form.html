<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- Fragment: Boutons sociaux -->
<div th:fragment="social-buttons(action)">
    <div class="social-buttons">
        <button class="btn btn-google">
            <i class="fab fa-google"></i>
            <span th:text="${action} + ' with Google'">Login with Google</span>
        </button>
        <button class="btn btn-apple">
            <i class="fab fa-apple"></i>
            <span th:text="${action} + ' with Apple'">Login with Apple</span>
        </button>
    </div>
</div>

<!-- Fragment: Divider -->
<div th:fragment="divider(text)">
    <div class="divider">
        <span th:text="${text}">or Login with</span>
    </div>
</div>

<!-- Fragment: Champ email -->
<div th:fragment="email-field" class="form-group">
    <input 
        type="email" 
        id="email" 
        name="email" 
        placeholder="Your Email" 
        required
        autocomplete="email"
    >
</div>

<!-- Fragment: Champ nom -->
<div th:fragment="name-field" class="form-group">
    <input 
        type="text" 
        id="name" 
        name="name" 
        placeholder="Your Name" 
        required
        autocomplete="name"
    >
</div>

<!-- Fragment: Champ mot de passe -->
<div th:fragment="password-field(autocomplete)" class="form-group">
    <div class="password-input">
        <input 
            type="password" 
            id="password" 
            name="password" 
            placeholder="Your Password" 
            required
            th:autocomplete="${autocomplete}"
        >
        <button type="button" class="toggle-password" onclick="togglePassword()">
            <i class="far fa-eye" id="eyeIcon"></i>
        </button>
    </div>
</div>

<!-- Fragment: Options de formulaire (remember me, forgot password) -->
<div th:fragment="form-options">
    <div class="form-options">
        <label class="checkbox-label">
            <input type="checkbox" name="remember">
            <span>Remember me</span>
        </label>
        <a href="#" class="link">Forgot Password?</a>
    </div>
</div>

<!-- Fragment: Bouton submit -->
<button th:fragment="submit-button(text)" type="submit" class="btn btn-primary btn-submit" th:text="${text}">
    Submit
</button>

<!-- Fragment: Footer d'authentification -->
<p th:fragment="auth-footer(text, linkText, linkUrl)" class="auth-footer">
    <span th:text="${text}">Don't have an account?</span>
    <a th:href="@{${linkUrl}}" class="link" th:text="${linkText}">Sign up</a>
</p>

<!-- Fragment: Script d'authentification -->
<th:block th:fragment="auth-scripts">
<script th:inline="javascript">
    function togglePassword() {
        const passwordInput = document.getElementById('password');
        const eyeIcon = document.getElementById('eyeIcon');
        
        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            eyeIcon.classList.remove('fa-eye');
            eyeIcon.classList.add('fa-eye-slash');
        } else {
            passwordInput.type = 'password';
            eyeIcon.classList.remove('fa-eye-slash');
            eyeIcon.classList.add('fa-eye');
        }
    }
</script>
</th:block>

</html>

